/****************************************************************************
 * app/src/blinky.c
 *
 *   Authors: Daniel Pereira de Carvalho <daniel.carvalho@ufu.br>
 *
 ****************************************************************************/

/****************************************************************************
 * Included Files
 ****************************************************************************/

#include <stdbool.h>
#include <stdint.h>

#include "arduino.h"

/****************************************************************************
 * Pre-processor Definitions
 ****************************************************************************/

#define LED_DELAY 100000

/****************************************************************************
 * Private Variables
 ****************************************************************************/

static void delay(int millis)
{
  for (volatile int i = 0; i < millis; i++);
}

/****************************************************************************
 * Public Functions
 ****************************************************************************/

void setup(void)
{
  pinMode(2, OUTPUT);
}

void loop(void)
{
  static int led_state = LOW;

  digitalWrite(2, led_state);
  led_state = (led_state == LOW) ? HIGH : LOW;

  delay(LED_DELAY);
}